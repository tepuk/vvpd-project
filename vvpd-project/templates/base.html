{% load static %}
{% load navbar %}
<!DOCTYPE html>
<html lang="en">

<head>

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Favicon -->
    <link rel="shortcut icon" href="{% static 'img/logo.png' %}" type="image/png">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}" type="text/css">

    <!-- Style CSS -->
    <link rel="stylesheet" href="{% static 'css/style.css' %}" type="text/css">

    <!-- Font awesome CSS -->
    <link rel="stylesheet" href="{% static 'css/all.css' %}" type="text/css">


    <!-- Select2 -->
    <link rel="stylesheet" href="{% static 'css/select2.min.css' %}" type="text/css">

    <title>{% block title %}{% endblock %}</title>

</head>

<body>

    {% if user.is_authenticated %}

    <div class='dashboard'>
        {% block sidebar %}
        {% if request.user.user_status == 'student' %}
        {% student_sidebar request.user %}
        {% else %}
        {% teacher_sidebar request.user %}
        {% endif %}
        {% endblock %}

        <div class='dashboard-app'>
            <header class='dashboard-toolbar'>
                <a class="menu-toggle">
                    <i class="fas fa-bars"></i>
                </a>
            </header>
            <div class='dashboard-content'>
                <div class='card'>
                    <div class="card-header mb-3">
                        {% block content-header %}
                        {% endblock %}
                    </div>
                    <div class='card-body'>
                        {% block content %}
                        {% endblock %}
                    </div>
                </div>
            </div>
        </div>
    </div>

    {% else %}
    {% block login %}
    {% endblock %}
    {% endif %}


    <!-- Jquery script -->
    <script src="{% static 'js/select2.min.js' %}"></script>
    <!-- Select2 script -->
    <script src="{% static 'js/jquery-3.6.0.min.js' %}"></script>

    <script>
        const mobileScreen = window.matchMedia("(max-width: 990px )");
        $(document).ready(function () {
            $(".dashboard-nav-dropdown-toggle").click(function () {
                $(this).closest(".dashboard-nav-dropdown")
                    .toggleClass("show")
                    .find(".dashboard-nav-dropdown")
                    .removeClass("show");
                $(this).parent()
                    .siblings()
                    .removeClass("show");
            });
            $(".menu-toggle").click(function () {
                if (mobileScreen.matches) {
                    $(".dashboard-nav").toggleClass("mobile-show");
                } else {
                    $(".dashboard").toggleClass("dashboard-compact");
                }
            });
        });
    </script>

    {% block script %}{% endblock %}

</body>

</html>